#define _CLIP_COL(A, B, C, D, E, F) float AABBox::clip##D##Collide(AABBox b,##E) { float sx = start_x; float sy = start_y; float sz = start_z; float ex = end_x; float ey = end_y; float ez = end_z; float bsx = b.start_x; float bsy = b.start_y; float bsz = b.start_z; float bex = b.end_x; float bey = b.end_y; float bez = b.end_z; if (bs##B < e##B && be##B > s##B && bs##C < e##C && be##C > s##C) { float max; if (A##a > 0 && be##A <= s##A) { max = s##A - be##A; if (max <##A##a) { A##a = max; } } if (A##a < 0 && bs##A >= e##A) { max = e##A - bs##A; if (max > A##a) { A##a = max; } } }##F; }
